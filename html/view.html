<html>
  <style>
  h1 {
  	font-family: "Segoe UI", Frutiger, "Frutiger Linotype", "Dejavu Sans", "Helvetica Neue", Arial, sans-serif;
  	font-size: 49px;
  	font-style: normal;
  	font-variant: normal;
    color: white;
  	font-weight: 500;
  	line-height: 53.9px;
  }
  html {
    background: url("") no-repeat center center fixed;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
  }
  </style>
  <body>
    <center>
      <br>
      <br>
      <h1>

      </h1>
    </center>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script>
    var bases = {
      lemon: "url('lemons-base.jpg')",
      bannana: "url('bannana-base.jpg')",
      lime: "url('lime-base.jpg')",
      orange: "url('orange-base.jpg')"
    }
    var out = [];
    for (key in bases){
      if (!bases.hasOwnProperty(key)) continue;
      out.push(key)
    }
    function choose(choices) {
      var index = Math.floor(Math.random() * choices.length);
      return choices[index];
    }
    var mappings = {
      KeyA: "lemon",
      KeyW: "bannana",
      KeyS: "lime",
      KeyD: "orange"
    }
    var current = {};
    function initPic(pic, word) {
      $("html").css("background-image", pic);
      $("h1").text(word);
      current.pic = pic;
      current.word = word;
    }
    var rounds = Array();
    initPic(bases[choose(out)], choose(out))
    var tempStart = Date();

    document.onkeyup = function (e) {
      var mapped = mappings[e.code]
      if(mapped == undefined) return;

      if (mapped == current.word) {
        // Go to next
        var tempEnd = Date();

        var timeTaken = tempEnd - tempStart;
        rounds.push({
          time-taken: timeTaken
        })

        var key = choose(out)
        var key2 = choose(out)
        initPic(bases[key2], key)
      }
      else {
      }


    }
  </script>
  </html>
